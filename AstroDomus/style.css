/* Golden Ratio Minimalist Enhancement CSS
   Based on original design with mathematical harmony
   φ (phi) = 1.618 - Subtle professional improvements
*/

/* Import clean, professional font */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap');

:root {
  /* Golden Ratio Constants */
  --phi: 1.618;
  --phi-inv: 0.618;
  
  /* Golden Ratio Spacing (based on original 20px) */
  --space-xs: 12px;    /* 20px / φ */
  --space-sm: 15px;    /* original small */
  --space-base: 20px;  /* original base */
  --space-md: 32px;    /* 20px × φ */
  --space-lg: 52px;    /* 20px × φ² */
  
  /* Enhanced colors (keeping original feel) */
  --bg-dark: #0f0f0f;
  --bg-card: #1a1a1a;
  --bg-control: #2a2a2a;
  --bg-hover: #3a3a3a;
  --border-color: #333;
  --border-hover: #555;
  --text-primary: #e0e0e0;
  --text-secondary: #ccc;
  --accent-gold: #FFD700;
  --accent-blue: #4a90e2;
}

/* Body - Minimal enhancement */
body { 
  margin: 0; 
  padding: var(--space-base); 
  background: var(--bg-dark); 
  font-family: 'Inter', Arial, sans-serif; 
  color: var(--text-primary);
  line-height: var(--phi);
  -webkit-font-smoothing: antialiased;
}

/* Container - Perfect alignment setup */
.container { 
  max-width: 1400px; 
  margin: 0 auto; 
  text-align: center; 
  display: flex; 
  gap: var(--space-md);
  align-items: flex-start; /* Start from top, let sections handle their own height */
}

/* Chart section - Container for all chart elements */
.chart-section { 
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 100vh; /* Ensures full viewport height utilization */
}

/* Keywords section - Matches chart section perfectly */
.keywords-section { 
  width: calc(300px * var(--phi)); /* ~485px */
  background: var(--bg-card); 
  border: 1px solid var(--border-color);
  border-radius: calc(8px * var(--phi-inv)); 
  padding: var(--space-base);
  text-align: left;
  transition: border-color 0.3s ease;
  display: flex;
  flex-direction: column;
  min-height: 100vh; /* Same as chart-section */
  max-height: 100vh; /* Prevents overflow */
  overflow: hidden;
  position: sticky;
  top: 0; /* Sticks to top for perfect alignment */
}

/* Keywords content wrapper for better scrolling */
.keywords {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.keywords ul {
  flex: 1; /* Takes remaining space */
  overflow-y: auto; /* Individual scroll for keywords */
  padding-right: 8px; /* Space for scrollbar */
}

.keywords-section:hover {
  border-color: var(--border-hover);
}

/* Canvas - Subtle enhancement */
canvas { 
  border: 1px solid var(--border-color); 
  background: var(--bg-card); 
  border-radius: calc(8px * var(--phi-inv)); 
  display: block; 
  margin: 0 auto;
  transition: border-color 0.3s ease;
}

canvas:hover {
  border-color: var(--border-hover);
}

/* Controls - Golden ratio spacing */
.controls { 
  margin: var(--space-base) 0; 
  display: flex; 
  gap: var(--space-xs); /* Tighter, more refined */
  align-items: center; 
  flex-wrap: wrap; 
  justify-content: center; 
}

/* Buttons - Refined with golden proportions */
button { 
  padding: calc(8px * var(--phi-inv)) calc(16px * var(--phi)); /* ~5px 26px */
  background: var(--bg-control); 
  color: var(--text-primary); 
  border: 1px solid var(--border-color); 
  border-radius: calc(4px * var(--phi-inv)); /* ~2.5px - more refined */
  cursor: pointer;
  font-family: inherit;
  font-size: 13px;
  font-weight: 400;
  transition: all 0.2s ease;
}

button:hover { 
  background: var(--bg-hover);
  border-color: var(--border-hover);
}

.active { 
  background: var(--accent-blue) !important; 
  color: #fff !important;
  border-color: var(--accent-blue) !important;
}

/* Select elements - Consistent styling */
select { 
  padding: calc(8px * var(--phi-inv)) 8px; 
  background: var(--bg-control); 
  color: var(--text-primary); 
  border: 1px solid var(--border-color); 
  border-radius: calc(4px * var(--phi-inv));
  font-family: inherit;
  font-size: 13px;
  transition: border-color 0.2s ease;
}

select:hover, select:focus {
  border-color: var(--border-hover);
  outline: none;
}

/* Labels - Readable for teaching interface */
label { 
  display: flex; 
  align-items: center; 
  gap: calc(6px * var(--phi)); /* ~10px */
  font-size: 14px; /* Back to original readable size */
  cursor: pointer;
  transition: color 0.2s ease;
}

label:hover {
  color: var(--accent-gold);
}

/* Input elements - Refined proportions */
input[type="color"] { 
  width: calc(40px * var(--phi-inv)); /* ~25px */
  height: calc(30px * var(--phi-inv)); /* ~18px */
  border: 1px solid var(--border-color); 
  border-radius: calc(4px * var(--phi-inv)); 
  cursor: pointer;
  transition: border-color 0.2s ease;
}

input[type="color"]:hover {
  border-color: var(--border-hover);
}

input[type="range"] { 
  width: calc(80px * var(--phi)); /* ~129px - more space */
}

/* Info display - Large and clear for teaching */
#info { 
  color: var(--accent-gold); 
  font-size: 16px; /* Back to original readable size */
  margin: var(--space-sm) 0; 
  font-weight: 500;
  min-height: calc(24px * var(--phi)); 
  letter-spacing: 0.025em;
}

/* Keywords styling - Optimized for full-height viewing */
.keywords h3 { 
  color: var(--accent-gold); 
  margin: 0 0 var(--space-sm) 0;
  font-size: 18px;
  font-weight: 600;
  letter-spacing: 0.05em;
  text-align: center;
  flex-shrink: 0; /* Prevents shrinking */
}

.keywords ul { 
  list-style: none; 
  padding: 0; 
  margin: 0;
  flex: 1; /* Takes remaining space */
  overflow-y: auto; /* Individual scroll for keywords */
  padding-right: 8px; /* Space for scrollbar */
}

.keywords li { 
  padding: calc(4px * var(--phi-inv)) 0;
  color: var(--text-secondary); 
  font-size: 14px;
  line-height: var(--phi);
  transition: color 0.2s ease;
  border-bottom: 1px solid rgba(51, 51, 51, 0.2);
  margin-bottom: 2px; /* Small gap for better readability */
}

.keywords li:hover {
  color: var(--accent-gold);
  background: rgba(255, 215, 0, 0.05);
  padding-left: 8px;
  border-radius: 3px;
}

.keywords li:last-child {
  border-bottom: none;
}

.keywords p {
  color: #aaa;
  font-size: 14px;
  line-height: var(--phi);
  text-align: center;
  font-style: italic;
  margin: var(--space-sm) 0;
  flex-shrink: 0; /* Prevents shrinking */
}

/* Draw controls - Consistent styling */
.draw-controls { 
  background: var(--bg-control); 
  padding: var(--space-xs); 
  border-radius: calc(4px * var(--phi-inv)); 
  margin: var(--space-xs) 0;
  border: 1px solid var(--border-color);
  gap: var(--space-xs);
}

/* Eraser indicator - No changes needed */
.eraser-indicator { 
  position: absolute; 
  border: 2px solid #ff6666; 
  border-radius: 50%; 
  pointer-events: none; 
  display: none; 
  background: rgba(255, 102, 102, 0.1); 
}

/* Responsive - Perfect alignment maintained */
@media (max-width: calc(1000px / var(--phi))) {
  .container { 
    flex-direction: column;
    gap: var(--space-base);
    align-items: center;
  } 
  
  .chart-section {
    min-height: auto; /* Remove viewport height constraint on mobile */
    width: 100%;
  }
  
  .keywords-section { 
    width: 100%;
    max-width: 600px;
    min-height: auto; /* Remove viewport height constraint on mobile */
    max-height: none;
    position: static; /* Remove sticky on mobile */
    order: -1; /* Put keywords first on mobile */
  } 
}

@media (max-width: 500px) {
  body {
    padding: var(--space-xs);
  }
  
  .container {
    gap: var(--space-sm);
  }
  
  .controls {
    gap: calc(var(--space-xs) * var(--phi-inv));
    margin: var(--space-sm) 0;
  }
  
  button {
    padding: calc(6px * var(--phi-inv)) var(--space-xs);
    font-size: 12px;
  }
  
  .keywords-section {
    padding: var(--space-sm);
  }
  
  canvas {
    max-height: 60vh; /* Smaller on mobile */
  }
}

/* Subtle focus states for accessibility */
button:focus-visible,
select:focus-visible,
input:focus-visible {
  outline: 2px solid var(--accent-gold);
  outline-offset: 1px;
}

/* Selection color */
::selection {
  background: rgba(255, 215, 0, 0.2);
  color: var(--accent-gold);
}

/* Custom scrollbar for keywords section */
.keywords ul::-webkit-scrollbar {
  width: 6px;
}

.keywords ul::-webkit-scrollbar-track {
  background: rgba(51, 51, 51, 0.2);
  border-radius: 3px;
}

.keywords ul::-webkit-scrollbar-thumb {
  background: var(--accent-gold);
  border-radius: 3px;
}

.keywords ul::-webkit-scrollbar-thumb:hover {
  background: #b8941f;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Enhanced focus for better keyword navigation */
.keywords li:focus {
  outline: 2px solid var(--accent-gold);
  outline-offset: 2px;
  color: var(--accent-gold);
}
